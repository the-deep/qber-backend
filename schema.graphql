"""A generic type to return error messages"""
scalar CustomErrorType

"""Date with time (isoformat)"""
scalar DateTime

input DjangoModelFilterInput {
  pk: ID!
}

input IDFilterLookup {
  exact: ID
  iExact: ID
  contains: ID
  iContains: ID
  inList: [ID!]
  gt: ID
  gte: ID
  lt: ID
  lte: ID
  startsWith: ID
  iStartsWith: ID
  endsWith: ID
  iEndsWith: ID
  range: [ID!]
  isNull: Boolean
  regex: String
  iRegex: String
}

input LoginInput {
  email: String!
  password: String!
}

type Mutation {
  public: PublicMutation!
  private: PrivateMutation!
}

type MutationEmptyResponseType {
  ok: Boolean!
  errors: CustomErrorType
}

input OffsetPaginationInput {
  offset: Int! = 0
  limit: Int! = -1
}

enum OptEmailNotificationTypeEnum {
  NEWS_AND_OFFERS
}

enum Ordering {
  ASC
  DESC
}

input PasswordChangeInput {
  oldPassword: String!
  newPassword: String!
}

input PasswordResetConfirmInput {
  captcha: String!
  uuid: String!
  token: String!
  newPassword: String!
}

input PasswordResetTriggerInput {
  captcha: String!
  email: String!
}

type PrivateMutation {
  changeUserPassword(data: PasswordChangeInput!): MutationEmptyResponseType!
  updateMe(data: UserMeInput!): UserMeTypeMutationResponseType!
  createProject(data: ProjectCreateInput!): ProjectTypeMutationResponseType!
  projectScope(pk: ID!): ProjectScopeMutation
  id: ID!
}

type PrivateQuery {
  user: UserType!
  users(filters: UserFilter, order: UserOrder, pagination: OffsetPaginationInput): UserTypeCountList!
  projects(filters: ProjectFilter, order: ProjectOrder, pagination: OffsetPaginationInput): ProjectTypeCountList!
  projectScope(pk: ID!): ProjectScopeType
  id: ID!
}

input ProjectCreateInput {
  title: String!
}

input ProjectFilter {
  id: IDFilterLookup
  search: String
}

input ProjectMembershipFilter {
  id: IDFilterLookup
  search: String
}

input ProjectMembershipOrder {
  id: Ordering
  joinedAt: Ordering
}

enum ProjectMembershipRoleTypeEnum {
  ADMIN
  MEMBER
  VIEWER
}

type ProjectMembershipType {
  id: ID!
  role: ProjectMembershipRoleTypeEnum!
  joinedAt: DateTime!
  memberId: ID!
  addedById: ID
  addedBy: UserType
  clientId: ID!
  member: UserType!
}

type ProjectMembershipTypeBulkMutationResponseType {
  errors: [CustomErrorType!]
  results: [ProjectMembershipType!]
  deleted: [ProjectMembershipType!]
}

type ProjectMembershipTypeCountList {
  limit: Int!
  offset: Int!
  count: Int!
  items: [ProjectMembershipType!]!
}

input ProjectMembershipUpdateInput {
  id: ID
  clientId: ID
  member: ID
  role: ProjectMembershipRoleTypeEnum
}

input ProjectOrder {
  id: Ordering
  createdAt: Ordering
}

type ProjectScopeMutation {
  id: ID!
  createQuestionnaire(data: QuestionnaireCreateInput!): QuestionnaireTypeMutationResponseType!
  updateQuestionnaire(id: ID!, data: QuestionnaireUpdateInput!): QuestionnaireTypeMutationResponseType!
  deleteQuestionnaire(id: ID!): QuestionnaireTypeMutationResponseType!
  createQuestion(data: QuestionCreateInput!): QuestionTypeMutationResponseType!
  updateQuestion(id: ID!, data: QuestionUpdateInput!): QuestionTypeMutationResponseType!
  deleteQuestion(id: ID!): QuestionTypeMutationResponseType!
  updateProject(data: ProjectUpdateInput!): ProjectTypeMutationResponseType!
  leaveProject(confirmPassword: String!): MutationEmptyResponseType!
  updateMemberships(items: [ProjectMembershipUpdateInput!] = [], deleteIds: [ID!] = []): ProjectMembershipTypeBulkMutationResponseType!
}

type ProjectScopeType {
  questionnaires(filters: QuestionnaireFilter, order: QuestionnaireOrder, pagination: OffsetPaginationInput): QuestionnaireTypeCountList!
  questions(filters: QuestionFilter, order: QuestionOrder, pagination: OffsetPaginationInput): QuestionTypeCountList!
  questionnaire(pk: ID!): QuestionnaireType
  question(pk: ID!): QuestionType
  id: ID!
  project: ProjectType!
}

type ProjectType {
  createdAt: DateTime!
  modifiedAt: DateTime!
  id: ID!
  title: String!
  members(filters: ProjectMembershipFilter, order: ProjectMembershipOrder, pagination: OffsetPaginationInput): ProjectMembershipTypeCountList!
  createdBy: UserType!
  currentUserRole: ProjectMembershipRoleTypeEnum
  modifiedBy: UserType!
}

type ProjectTypeCountList {
  limit: Int!
  offset: Int!
  count: Int!
  items: [ProjectType!]!
}

type ProjectTypeMutationResponseType {
  ok: Boolean!
  errors: CustomErrorType
  result: ProjectType
}

input ProjectUpdateInput {
  title: String
}

type PublicMutation {
  register(data: RegisterInput!): UserMeTypeMutationResponseType!
  login(data: LoginInput!): UserMeTypeMutationResponseType!
  logout: MutationEmptyResponseType!
  passwordResetTrigger(data: PasswordResetTriggerInput!): MutationEmptyResponseType!
  passwordResetConfirm(data: PasswordResetConfirmInput!): MutationEmptyResponseType!
  id: ID!
}

type PublicQuery {
  me: UserMeType
  id: ID!
}

type Query {
  public: PublicQuery!
  private: PrivateQuery!
}

input QuestionCreateInput {
  questionnaire: ID!
  type: QuestionTypeEnum!
  name: String!
  label: String!
  group: ID
  hint: String
}

input QuestionFilter {
  id: IDFilterLookup
  questionnaire: DjangoModelFilterInput
  name: StrFilterLookup
  search: String
}

input QuestionOrder {
  id: Ordering
  createdAt: Ordering
}

type QuestionType {
  createdAt: DateTime!
  modifiedAt: DateTime!
  id: ID!
  name: String!
  label: String!
  hint: String!
  type: QuestionTypeEnum!
  createdBy: UserType!
  modifiedBy: UserType!
  questionnaireId: ID!
}

type QuestionTypeCountList {
  limit: Int!
  offset: Int!
  count: Int!
  items: [QuestionType!]!
}

enum QuestionTypeEnum {
  INTEGER
  DECIMAL
  TEXT
  SELECT_ONE
  SELECT_MULTIPLE
  RANK
  RANGE
  NOTE
  DATE
  TIME
  DATETIME
  IMAGE
  AUDIO
  VIDEO
  FILE
  BARCODE
  ACKNOWLEDGE
}

type QuestionTypeMutationResponseType {
  ok: Boolean!
  errors: CustomErrorType
  result: QuestionType
}

input QuestionUpdateInput {
  questionnaire: ID
  group: ID
  type: QuestionTypeEnum
  name: String
  label: String
  hint: String
}

input QuestionnaireCreateInput {
  title: String!
}

input QuestionnaireFilter {
  id: IDFilterLookup
  project: DjangoModelFilterInput
  search: String
}

input QuestionnaireOrder {
  id: Ordering
  createdAt: Ordering
}

type QuestionnaireType {
  createdAt: DateTime!
  modifiedAt: DateTime!
  id: ID!
  title: String!
  createdBy: UserType!
  modifiedBy: UserType!
  projectId: ID!
}

type QuestionnaireTypeCountList {
  limit: Int!
  offset: Int!
  count: Int!
  items: [QuestionnaireType!]!
}

type QuestionnaireTypeMutationResponseType {
  ok: Boolean!
  errors: CustomErrorType
  result: QuestionnaireType
}

input QuestionnaireUpdateInput {
  title: String
}

input RegisterInput {
  email: String!
  captcha: String!
  firstName: String
  lastName: String
}

input StrFilterLookup {
  exact: String
  iExact: String
  contains: String
  iContains: String
  inList: [String!]
  gt: String
  gte: String
  lt: String
  lte: String
  startsWith: String
  iStartsWith: String
  endsWith: String
  iEndsWith: String
  range: [String!]
  isNull: Boolean
  regex: String
  iRegex: String
}

input UserFilter {
  id: IDFilterLookup
  search: String
  membersExcludeProject: ID
  excludeMe: Boolean = false
}

input UserMeInput {
  firstName: String
  lastName: String
  emailOptOuts: [OptEmailNotificationTypeEnum!]
}

type UserMeType {
  id: ID!
  firstName: String!
  lastName: String!
  displayName: String!
  email: String!
  emailOptOuts: [OptEmailNotificationTypeEnum!]!
}

type UserMeTypeMutationResponseType {
  ok: Boolean!
  errors: CustomErrorType
  result: UserMeType
}

input UserOrder {
  id: Ordering
}

type UserType {
  id: ID!
  firstName: String!
  lastName: String!
  displayName: String!
}

type UserTypeCountList {
  limit: Int!
  offset: Int!
  count: Int!
  items: [UserType!]!
}